<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Faça login ou cadastre-se no Dados & Calangos para começar a sua próxima grande aventura de RPG.">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Dados & Calangos - Mural de Aventuras de RPG">
    <meta property="og:description" content="Encontre e publique aventuras de RPG de mesa. Um mural para mestres e jogadores se conectarem e jogarem.">
    <meta property="og:image" content="https://i.imgur.com/SzXWxJe.png"> 
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Dados & Calangos - Mural de Aventuras de RPG">
    <meta property="twitter:description" content="Encontre e publique aventuras de RPG de mesa. Um mural para mestres e jogadores se conectarem e jogarem.">
    <meta property="twitter:image" content="https://i.imgur.com/SzXWxJe.png">
    <title>Login - Dados & Calangos</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=EB+Garamond:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>

    <style>
       
        .login-container { 
            max-width: 450px; 
            margin: 4rem auto; 
            padding: 2rem; 
            background-color: var(--cor-fundo-card); 
            border: 1px solid var(--cor-borda); 
            border-radius: 8px; 
            box-shadow: var(--sombra);
            text-align: center; 
        }

        #login-form, #register-form {
            text-align: center;
        }

        .google-btn { display: flex; align-items: center; justify-content: center; gap: 10px; background-color: #4285F4; border-color: #4285F4; margin-bottom: 1.5rem; display: inline-flex; } /* Alterado para inline-flex */
        .google-btn:hover { background-color: #357ae8; }
        .separator { text-align: center; margin: 1.5rem 0; color: var(--cor-texto-secundario); font-family: var(--fonte-label); }
        #error-message, #success-message { text-align: center; padding: 0.8rem; margin-top: 1rem; border-radius: 4px; display: none; }
        #error-message { background-color: #f8d7da; color: #721c24; }
        #success-message { background-color: #d4edda; color: #155724; }
        .password-wrapper { position: relative; display: flex; align-items: center; }
        .password-toggle-icon { position: absolute; right: 10px; user-select: none; font-style: normal; }
        .form-explanation { font-size: 0.85rem; color: var(--cor-texto-secundario); text-align: center; margin-top: 1.5rem; }
    </style>
</head>
<body>
    <header>
        <a href="index.html"><img src="https://i.imgur.com/SzXWxJe.png" alt="Logo Dados & Calangos" class="logo"></a>
        <h1>Dados & Calangos</h1>
    </header>
    <div class="login-container">
        <button id="google-login-button" class="btn-primario google-btn">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 48 48"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg>
            <span>Entrar com o Google</span>
        </button>
        <div class="separator">OU</div>
        <h3>Acesse sua Conta</h3>
        <form id="login-form">
            <div class="form-grupo">
                <label for="login-email">Email</label>
                <input type="email" id="login-email" required>
            </div>
            <div class="form-grupo">
                <label for="login-password">Senha</label>
                <div class="password-wrapper">
                    <input type="password" id="login-password" required>
                    <i class="password-toggle-icon" data-target="login-password"></i>
                </div>
            </div>
            <button type="submit" class="btn-primario">Entrar</button>
        </form>
        <div class="separator"></div>
        <h3>Não tem uma conta? Cadastre-se</h3>
        <form id="register-form">
            <div class="form-grupo">
                <label for="register-username">Nome de Usuário</label>
                <input type="text" id="register-username" required>
            </div>
            <div class="form-grupo">
                <label for="register-email">Email</label>
                <input type="email" id="register-email" required>
            </div>
            <div class="form-grupo">
                <label for="register-password">Senha (mín. 1 número e 1 caractere especial)</label>
                <div class="password-wrapper">
                    <input type="password" id="register-password" required>
                     <i class="password-toggle-icon" data-target="register-password"></i>
                </div>
            </div>
            <div class="form-grupo">
                <label for="confirm-password">Confirmar Senha</label>
                <div class="password-wrapper">
                    <input type="password" id="confirm-password" required>
                    <i class="password-toggle-icon" data-target="confirm-password"></i>
                </div>
            </div>
            <button type="submit" class="btn-primario">Cadastrar</button>
        </form>

        <p class="form-explanation">Ao se cadastrar, você cria uma conta para publicar e se inscrever em aventuras, além de interagir com a comunidade. Seus dados são usados apenas para o funcionamento do site.</p>

        <div id="error-message"></div>
        <div id="success-message"></div>
    </div>

    <footer class="site-footer">
        <p>© 2025 Dados & Calangos | <a href="politica-de-privacidade.html">Política de Privacidade</a></p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script> <script src="auth.js"></script>
</body>
</html>
